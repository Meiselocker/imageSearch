<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>README.md</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="imagesearch-biometric-identification-using-images">imageSearch: Biometric identification using images</h1>
<p>imageSearch is a Python3 console application for image identification, designed for wildlife biologists.</p>
<ul>
<li>Manage a register of identified images.</li>
<li>Verify whether a new entry matches an existing entry in the database.</li>
</ul>
<h2 id="contents-of-the-repository">Contents of the repository</h2>
<ul>
<li><code>files</code> contains images used to illustrate the Jupyter tutorial.</li>
<li><code>database.py</code> is a module containing the Python class <code>DB</code>, which is the core of the application.</li>
<li><code>utils.py</code> is a module with auxiliary functions.</li>
<li><code>test.py</code> tests the application. The utrecht face database, (see download data section) will be used to build a new register and train a new model. The script returns similarity probability for a sample and plot a matched pair of image.</li>
<li><code>UserGuide.ipynb</code> is a Jupyter Notebook presenting the main functionalities of the application.</li>
<li><code>requirements.txt</code> is a list of dependencies of the appication.</li>
<li><code>environment.yml</code> can be used to create the virtual environment for the application with conda (recommended; see below).</li>
<li><code>model.pkg</code> is the default scikit-learn machine learning model used in the application, saved as a pickled Python object.</li>
</ul>
<h2 id="data">Data</h2>
<p>This application was specifically built for verification of toad images, although it can suit many other purposes. The app was successfully tested (96% accuracy, refer to User Guide for definition) on an unseen dataset containing 127 pairs of images of toads’ upper body. This data, as well as the <a href="http://pics.stir.ac.uk/2D_face_sets.htm"><em>Utrecht Face dataset</em></a>, used as a toy example in the User Guide, is to be found <a href="https://drive.google.com/drive/folders/1r_1X1777maJ8mBIArpi4eLQaTuLOjmH-?usp=sharing">here</a>.</p>
<h2 id="step-by-step-installing-instructions">Step-by-step installing instructions</h2>
<p>The application requires installing the packages listed in <code>requirements.txt</code> in the project folder. To avoid compatibility issues<br>
we strongly recommend using a virtual environment for the project. As we will see, creating and activating a virtual environment with <strong>Anaconda</strong> is very simple, but you can also<br>
use the <strong>virtualenv</strong> Python package for this purpose.</p>
<h3 id="download-the-repository">1. Download the repository</h3>
<p>Download the repository and save it in a place of your choice.</p>
<h3 id="create-a-virtual-environment-and-install-dependencies">2. Create a virtual environment and install dependencies</h3>
<h4 id="if-you-dont-have-anaconda">If you don’t have Anaconda</h4>
<h5 id="on-windows">On Windows</h5>
<ul>
<li>Install <strong>virualenv</strong> using pip from the shell:</li>
</ul>
<pre><code>pip install virtualenv
</code></pre>
<ul>
<li>Make a directory where you want save the virtual environment in. For instance Spyder:</li>
</ul>
<pre><code>mkdir C:\Users\user\Documents\my_virt_envs
cd C:\Users\user\Documents\my_virt_envs
</code></pre>
<ul>
<li>Create a new environment. E.g. imageSearch. Then activate it:</li>
</ul>
<pre><code>python -m venv imageSearch
imageSearch\Scripts\activate
</code></pre>
<ul>
<li>Install the requirements into the virtual environment using the <code>requirements.txt</code> file from the project folder:</li>
</ul>
<pre><code>pip install -r project_folder\requirements.txt 
</code></pre>
<ul>
<li>If you prefer to work with and IDE, install your favorite IDE in the virtual environment. For instance:</li>
</ul>
<pre><code>pip install spyder
</code></pre>
<p>You can deactivate the environment at any time and come back to your default Python environment with:</p>
<pre><code>deactivate
</code></pre>
<h5 id="on-linux">On Linux</h5>
<ul>
<li>Install <strong>virualenv</strong> using pip from the shell:</li>
</ul>
<pre><code>pip install virtualenv
</code></pre>
<ul>
<li>Make a directory where you want save the virtual environment in. For instance:</li>
</ul>
<pre><code>mkdir ./my_virt_envs
cd ./my_virt_envs
</code></pre>
<ul>
<li>Create a new environment. E.g. Then activate it:</li>
</ul>
<pre><code>python3 -m venv imageSearch
source imageSearch/bin/activate
</code></pre>
<ul>
<li>Install the requirements into the virtual environment using the <code>requirements.txt</code> file from the project folder:</li>
</ul>
<pre><code>pip install -r project_folder/requirements.txt 
</code></pre>
<ul>
<li>If you prefer to work with and IDE, install your favorite IDE in the virtual environment. For instance:</li>
</ul>
<pre><code>pip install spyder
</code></pre>
<p>You can deactivate the environment at any time and come back to your default Python environment with:</p>
<pre><code>deactivate
</code></pre>
<h4 id="if-you-have-anaconda">If you have Anaconda</h4>
<ul>
<li>Create a virtual environment with the <code>environment.yml</code> file in the project file; it will be automatically named <strong>imageSearch</strong> and will<br>
install all dependencies  at once (you can modify the name by changing the first line of the <code>.yml</code> file).<br>
Type in the Anaconda shell (pay attention to the path of <code>environment.yml</code>):</li>
</ul>
<pre><code>conda env create -f path/to/environment.yml
</code></pre>
<h3 id="using-jupyter-notebook-in-the-the-virtual-environment">3. Using Jupyter Notebook in the the virtual environment</h3>
<p>If you want to interact with the application from Jupyter, you need to:</p>
<ul>
<li>Activate your virtual envrionment:</li>
<li>
<ul>
<li>With Linux (mind the location of your virtual environment)</li>
</ul>
</li>
</ul>
<pre><code>source path/to/imageSearch/bin/activate
</code></pre>
<ul>
<li>
<ul>
<li>With Windows (mind the location of your virtual environment):</li>
</ul>
</li>
</ul>
<pre><code>path\to\imageSearch\Scripts\activate
</code></pre>
<ul>
<li>
<ul>
<li>or with conda</li>
</ul>
</li>
</ul>
<pre><code>conda activate imageSearch
</code></pre>
<ul>
<li>Install Jupyter and ipykernel in your virtual environment,</li>
<li>
<ul>
<li>either with <code>pip</code>:</li>
</ul>
</li>
</ul>
<pre><code>pip install notebook
pip install ipykernel
</code></pre>
<ul>
<li>
<ul>
<li>or with conda:</li>
</ul>
</li>
</ul>
<pre><code>conda install -c conda-forge notebook
conda install ipykernel
</code></pre>
<ul>
<li>Create a kernel with the virtual environment for your Jupyter:</li>
</ul>
<pre><code>python -m ipykernel install --user --name imageSearch --display-name "Python(imageSearch)"
</code></pre>
<p>When launching Jupyter, you will be able to create a notebook with a kernel in the virtual environment.</p>
<h2 id="getting-started">Getting started</h2>
<p>imageSearch is a Python console-based application, so you need to launch Python in your shell<br>
and run your commands from there.</p>
<ul>
<li>
<p>First, activate your environment:</p>
</li>
<li>
<ul>
<li>Linux:</li>
</ul>
</li>
</ul>
<pre><code>source path/to/imageSearch/bin/activate
</code></pre>
<ul>
<li>
<ul>
<li>Windows:</li>
</ul>
</li>
</ul>
<pre><code>path\to\imageSearch\Scripts\activate
</code></pre>
<ul>
<li>
<ul>
<li>Anaconda:</li>
</ul>
</li>
</ul>
<pre><code>conda activate imageSearch
</code></pre>
<ul>
<li>Browse to your project folder:</li>
</ul>
<pre><code>cd path/to/my_project_folder
</code></pre>
<ul>
<li>Launch Python</li>
</ul>
<pre><code>python
</code></pre>
<p>or</p>
<pre><code>python3
</code></pre>
<p>You are now now ready to use the application by importing the module <code>database</code>:</p>
<pre><code>&gt;&gt;&gt; import database
&gt;&gt;&gt; import utils
</code></pre>
<p>If you would like to use the application with your favorite IDE or Jupyter, launch them from from the activated<br>
virtual environment, for exmaple</p>
<pre><code>jupyter notebook
</code></pre>
<p>When you create a notebook with Jupyter, choose the imageSearch kernel you have set during the installation.</p>
<p>Please refer to the User Guide (Jupyter Notebook) for an overview of the main functionalities of the application.</p>
<h2 id="author">Author</h2>
<p>Isaac Debache</p>
</div>
</body>

</html>
